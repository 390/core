{include file="theme_admin_menu.htm"}
<div class="z-admincontainer">
    {include file="theme_admin_modifymenu.htm"}
    {gt text="Variables" assign=templatetitle}
    <div class="z-adminpageicon">{img modname=core src=xedit.gif set=icons/large alt=$templatetitle}</div>
    <h2>{$templatetitle}</h2>
    <form class="z-form" action="{modurl modname="Theme" type="admin" func="updatevariables"}" method="post" enctype="application/x-www-form-urlencoded">
        <div>
            <input type="hidden" name="authid" value="{insert name="generateauthkey" module=Theme}" />
            <input type="hidden" name="themename" value="{$themename|varprepfordisplay}" />
            <table class="z-admintable">
                <thead>
                    <tr>
                        <th>{gt text="Name"}</th>
                        <th>{gt text="Value"}</th>
                    </tr>
                </thead>
                <tbody>
                    {foreach from=$variables.variables item=value key=name}
                    <tr class="{cycle values=z-odd,z-even}">
                        <td>
                            {if $variables.$name.editable}
                            <input type="text" name="variablesnames[{$name|varprepfordisplay}]" value="{$name|varprepfordisplay}" />
                            {else}
                            <input type="hidden" name="variablesnames[{$name|varprepfordisplay}]" value="{$name|varprepfordisplay}" />
                            {if $variables.$name.language}
                            {gt text=$variables.$name.language}
                            {else}
                            {$name|varprepfordisplay}
                            {/if}
                            {/if}
                        </td>
                        <td>
                            {if $variables.$name.type eq 'yesno'}
                            <input type="radio" name="variablesvalues[{$name|varprepfordisplay}]" value="1"{if $value eq 1} checked="checked"{/if} />&nbsp;{gt text="Yes"}&nbsp;
                            <input type="radio" name="variablesvalues[{$name|varprepfordisplay}]" value="0"{if $value eq 0} checked="checked"{/if} />&nbsp;{gt text="No"}
                            {elseif $variables.$name.type eq 'select'}
                            {html_options name=variablesvalues[$name] values=$variables.$name.values output=$variables.$name.output selected=$value}
                            {else}
                            <input type="text" name="variablesvalues[{$name|varprepfordisplay}]" value="{$value|varprepfordisplay}" />
                            {/if}
                        </td>
                    </tr>
                    {foreachelse}
                    <tr class="z-admintableempty"><td colspan="2">{gt text="No items found."}</td></tr>
                    {/foreach}
                </tbody>
            </table>
            <fieldset>
                <legend>{gt text="Add new theme variable"}</legend>
                <div class="z-formrow">
                    <label for="theme_newvariablename">{gt text="Name"}</label>
                    <input id="theme_newvariablename" type="text" name="newvariablename" size="30" />
                </div>
                <div class="z-formrow">
                    <label for="theme_newvariablevalue">{gt text="Value"}</label>
                    <input id="theme_newvariablevalue" type="text" name="newvariablevalue" size="30" />
                </div>
                <div class="z-buttons">
                    {button src=button_ok.gif set=icons/extrasmall __alt="Save" __title="Save" __text="Save"}
                    <a href="{modurl modname=Theme type=admin func=view}" title="{gt text="Cancel"}">{img modname=core src=button_cancel.gif set=icons/small __alt="Cancel" __title="Cancel"}{gt text="Cancel"}</a>
                </div>
            </fieldset>
        </div>
    </form>
</div>
