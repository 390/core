{* $Id$ *}
{gt text='Password changer' assign='templatetitle'}
{ajaxheader modname='Users' filename='users.js'}

{include file='users_user_menu.htm'}

<p class="z-informationmsg">{gt text="To change your password, please enter your current password, and then enter a new password (you must enter it twice identically, to ensure that you have entered it correctly)."}</p>

<form id="changepassword" class="z-form" action="{modurl modname="Users" type="user" func="updatepassword"}" method="post">
    <fieldset>
        <legend>{gt text="Change password"}</legend>
        <div class="z-formrow">
            <label for="oldpassword">{gt text="Current password"}</label>
            <input type="password" id="oldpassword" name="oldpassword" value="" />
        </div>
        <div class="z-formrow">
            <label for="newpassword">{gt text="New password"}</label>
            {if $use_password_strength_meter eq 1}
            <input type="password" id="newpassword" name="newpassword" value="" class="pwsinput" onkeyup="updatePasswordStrength(this.value)" /> <div id="pwscontainer"><div id="pwsmeter"></div></div>
            {else}
            <input type="password" id="newpassword" name="newpassword" value="" />
            {/if}
        </div>
        <div class="z-formrow">
            <label for="newpasswordconfirm">{gt text="New password (repeat for verification)"}</label>
            <input type="password" id="newpasswordconfirm" name="newpasswordconfirm" value="" />
        </div>
    </fieldset>
    <div class="z-formbuttons">
        {button src=button_ok.gif set=icons/small __alt="Save" __title="Save"}
        <a href="{modurl modname=Users type=user func=main}">{img modname=core src=button_cancel.gif set=icons/small __alt="Cancel" __title="Cancel"}</a>
    </div>
</form>
